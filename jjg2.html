<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta description="Jared James Grogan - AI Ecosystem Architect and Cognitive Computing Pioneer">
    <title>Jared James Grogan - AI Ecosystem Architect</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/api/placeholder/32/32">
    
    <!-- Updated Fonts - Phase 1 Update -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>
    <!-- Add reCAPTCHA - Phase 1 Update -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <style>
        /* Core Variables - Updated with new fonts */
        :root {
            /* Harvard Colors */
            --color-crimson: #A51C30;
            --color-crimson-light: #ed1b34;
            --color-gold: #C4B27D;
            --color-black: #1e1e1e;
            --color-white: #ffffff;
            --color-grey-light: #f5f5f5;
            --color-grey: #8a8a8a;
            
            /* Gradients */
            --gradient-crimson: linear-gradient(135deg, #A51C30 0%, #ed1b34 100%);
            --gradient-gold: linear-gradient(135deg, #C4B27D 0%, #D4C28D 100%);
            --gradient-dark: linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%);
            
            /* Updated Fonts - Phase 1 Update */
            --font-primary: 'Roboto', sans-serif;
            --font-secondary: 'Playfair Display', serif;
            
            /* Transitions */
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Blur Effects */
            --glass-blur: blur(10px);

            /* Spacing */
            --nav-height: 80px;
            --section-padding: clamp(3rem, 5vw, 6rem);
            --container-padding: clamp(1rem, 5vw, 10%);
        }

        /* Existing CSS remains the same until the updates... */

        /* New Styles for Phase 1 Updates */

        /* Download Resume Button - Sticky Version */
        .sticky-resume-btn {
            position: fixed;
            right: 2rem;
            bottom: calc(2rem + 600px); /* Position above chat module */
            background: var(--gradient-crimson);
            color: var(--color-white);
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 999;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .sticky-resume-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .sticky-resume-btn svg {
            width: 18px;
            height: 18px;
        }

        /* Contact Form Styles */
        .contact-form {
            max-width: 600px;
            margin: 2rem auto;
            padding: 2rem;
            background: var(--color-white);
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-input,
        .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--color-grey);
            border-radius: 4px;
            font-family: var(--font-primary);
            transition: var(--transition);
        }

        .form-input:focus,
        .form-textarea:focus {
            border-color: var(--color-crimson);
            outline: none;
            box-shadow: 0 0 0 2px rgba(165,28,48,0.1);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* Honeypot field for spam protection */
        .contact-form .honeypot {
            display: none;
        }

        /* Schedule Consultation Button */
        .schedule-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--gradient-gold);
            color: var(--color-black);
            padding: 1rem 2rem;
            border-radius: 4px;
            font-weight: 500;
            transition: var(--transition);
            margin-top: 2rem;
        }

        .schedule-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(196,178,125,0.3);
        }

        .schedule-btn svg {
            width: 20px;
            height: 20px;
        }

        /* Enhanced Chatbot Styles */
        .chat-message-link {
            color: var(--color-crimson);
            text-decoration: underline;
            transition: var(--transition);
        }

        .chat-message-link:hover {
            color: var(--color-crimson-light);
        }

        .chat-cta {
            margin-top: 0.5rem;
            padding: 0.5rem;
            background: rgba(165,28,48,0.1);
            border-radius: 4px;
            font-weight: 500;
        }

        /* Form Validation Styles */
        .form-input:invalid,
        .form-textarea:invalid {
            border-color: #dc3545;
        }

        .error-message {
            color: #dc3545;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }

        .form-input:invalid + .error-message,
        .form-textarea:invalid + .error-message {
            display: block;
        }

        /* Existing CSS continues... */
    </style>
</head>
<body>
    <!-- Existing nav section remains the same -->

    <!-- Add Sticky Resume Download Button -->
    <a href="/assets/Jared_Grogan_Resume.pdf" target="_blank" class="sticky-resume-btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4m4-5l5 5 5-5m-5 5V3"/>
        </svg>
        Download PDF Resume
    </a>

    <!-- Existing hero section remains the same -->

    <!-- Existing about section remains the same -->

    <!-- Update contact section with new form and scheduling button -->
    <section id="contact" class="section contact">
        <div class="container">
            <h2 class="section-title">Get in Touch</h2>
            
            <!-- Contact Grid remains the same -->
            <div class="contact-grid">
                <!-- Existing contact items -->
            </div>

            <!-- New Contact Form -->
            <form class="contact-form" id="contactForm" onsubmit="return handleFormSubmit(event)">
                <div class="form-group">
                    <label for="name" class="form-label">Name *</label>
                    <input type="text" id="name" name="name" class="form-input" required
                           pattern="[A-Za-z\s]{2,}"
                           title="Please enter at least 2 characters, letters only">
                    <div class="error-message">Please enter a valid name</div>
                </div>

                <div class="form-group">
                    <label for="email" class="form-label">Email *</label>
                    <input type="email" id="email" name="email" class="form-input" required>
                    <div class="error-message">Please enter a valid email address</div>
                </div>

                <div class="form-group">
                    <label for="message" class="form-label">Message</label>
                    <textarea id="message" name="message" class="form-textarea"></textarea>
                </div>

                <!-- Honeypot field for spam protection -->
                <div class="honeypot">
                    <input type="text" name="website" id="website" tabindex="-1" autocomplete="off">
                </div>

                <!-- reCAPTCHA -->
                <div class="g-recaptcha" data-sitekey="your-recaptcha-site-key"></div>

                <button type="submit" class="btn btn-primary">Send Message</button>
            </form>

            <!-- Schedule Consultation Button -->
            <a href="/schedule" class="schedule-btn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                Schedule a Consultation
            </a>
        </div>
    </section>

    <!-- Existing chat module markup remains the same -->

    <!-- Existing footer remains the same -->

    <script>
        // Existing initialization code remains...

        // Update neural network animation with optimizations
        function createNeuralAnimation() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const container = document.querySelector('.neural-network-animation');
            
            if (!container) return;

            // Set up canvas with device pixel ratio consideration
            const dpr = window.devicePixelRatio || 1;
            canvas.width = container.offsetWidth * dpr;
            canvas.height = container.offsetHeight * dpr;
            canvas.style.width = `${container.offsetWidth}px`;
            canvas.style.height = `${container.offsetHeight}px`;
            ctx.scale(dpr, dpr);
            
            container.appendChild(canvas);

            // Reduced number of neurons (25)
            const neurons = Array.from({ length: 25 }, () => ({
                x: Math.random() * canvas.width / dpr,
                y: Math.random() * canvas.height / dpr,
                size: 4,
                speed: Math.random() * 0.5 + 0.2,
                offset: Math.random() * Math.PI * 2
            }));

            // Animation throttling variables
            let lastFrame = 0;
            const targetFPS = 30;
            const frameInterval = 1000 / targetFPS;

            function animate(currentTime) {
                requestAnimationFrame(animate);

                // Throttle to target FPS
                if (currentTime - lastFrame < frameInterval) return;
                lastFrame = currentTime;

                ctx.clearRect(0, 0, canvas.width / dpr, canvas.height / dpr);
                
                // Draw connections
                ctx.beginPath();
                neurons.forEach((neuron, i) => {
                    // Update neuron position
                    neuron.y += Math.sin(currentTime * 0.001 * neuron.speed + neuron.offset) * 0.5;

                    // Draw connections to nearby neurons
                    neurons.slice(i + 1).forEach(other => {
                        const distance = Math.hypot(neuron.x - other.x, neuron.y - other.y);
                        if (distance < 100) {
                            ctx.moveTo(neuron.x, neuron.y);
                            ctx.lineTo(other.x, other.y);
                            const alpha = 1 - (distance / 100);
                            ctx.strokeStyle = `rgba(255, 255, 255, ${alpha * 0.4})`;
                            ctx.stroke();
                        }
                    });

                    // Draw neuron
                    ctx.beginPath();
                    ctx.arc(neuron.x, neuron.y, neuron.size, 0, Math.PI * 2);
                    ctx.fillStyle = '#ffffff';
                    ctx.fill();
                });
            }

            requestAnimationFrame(animate);

            // Optimized resize handler with debouncing
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    canvas.width = container.offsetWidth * dpr;
                    canvas.height = container.offsetHeight * dpr;
                    canvas.style.width = `${container.offsetWidth}px`;
                    canvas.style.height = `${container.offsetHeight}px`;
                    ctx.scale(dpr, dpr);
                }, 250);
            });
        }

        // Enhanced chat functionality with new responses
        function initializeChat() {
            // Existing chat initialization...

            // Updated response generator with new content
            function generateResponse(input, context) {
                const responses = {
                    // Existing responses...
                    portfolio: {
                        match: /(portfolio|projects|work examples)/i,
                        response: `Here are some of ${context.name}'s notable projects:
                            <br>- <a href="/portfolio/project1" class="chat-message-link">Herakles AI Platform</a>
                            <br>- <a href="/portfolio/project2" class="chat-message-link">Neural Network Optimizer</a>
                            <br>You can also check out his <a href="https://github.com/jaredgrogan" class="chat-message-link">GitHub</a> or <a href="https://linkedin.com/in/jaredgrogan" class="chat-message-link">LinkedIn</a> profiles.`
                    },
                    schedule: {
                        match: /(schedule|consultation|meet|discuss)/i,
                        response: `Would you like to schedule a consultation with ${context.name}? <div class="chat-cta"><a href="/schedule" class="chat-message-link">Click here to find a time</a></div>`
                    }
                };

               /* Toast Icon */
        .toast svg {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
        }

        .toast.success svg {
            color: var(--color-success);
        }

        .toast.error svg {
            color: var(--color-error);
        }

        /* Download Resume Button */
        .download-resume {
            position: fixed;
            right: 2rem;
            bottom: calc(2rem + 600px);
            background: var(--gradient-crimson);
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            color: var(--color-white);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: var(--shadow-md);
            z-index: 999;
            transition: var(--transition);
        }

        .download-resume:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Enhanced Navigation */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--nav-height);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: var(--glass-blur);
            -webkit-backdrop-filter: var(--glass-blur);
            z-index: 1000;
            transition: var(--transition);
        }

        .nav.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: var(--shadow-md);
        }

        .nav-container {
            height: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            font-family: var(--font-secondary);
            font-weight: 700;
            font-size: 1.5rem;
            background: var(--gradient-crimson);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            position: relative;
            font-weight: 500;
            transition: var(--transition);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient-crimson);
            transition: var(--transition);
        }

        .nav-link:hover::after {
            width: 100%;
        }

        /* Enhanced Contact Section */
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .contact-card {
            background: var(--color-white);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            display: flex;
            flex-direction: column;
            gap: 1rem;
            transition: var(--transition);
        }

        .contact-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .contact-form {
            max-width: 600px;
            margin: 3rem auto;
            padding: 2rem;
            background: var(--color-white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
        }

        /* Schedule Consultation Button */
        .schedule-consultation {
            background: var(--gradient-gold);
            color: var(--color-black);
            padding: 1rem 2rem;
            border-radius: var(--border-radius);
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 2rem;
            transition: var(--transition);
        }

        .schedule-consultation:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(196,178,125,0.3);
        }

        /* Enhanced Chat Module */
        .chat-module {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 400px;
            height: 600px;
            background: var(--color-white);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            box-shadow: var(--shadow-lg);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 1000;
            transition: var(--transition-slow);
        }

        .chat-module.collapsed {
            height: 60px;
            transform: translateY(calc(100% - 60px));
        }

        .chat-header {
            background: var(--gradient-crimson);
            color: var(--color-white);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .chat-message {
            max-width: 80%;
            padding: 1rem;
            border-radius: var(--border-radius);
            animation: slideUp 0.3s ease;
        }

        .chat-message.user {
            background: var(--gradient-crimson);
            color: var(--color-white);
            align-self: flex-end;
        }

        .chat-message.assistant {
            background: var(--color-grey-light);
            border-left: 3px solid var(--color-crimson);
            align-self: flex-start;
        }

        .chat-input-container {
            padding: 1rem;
            border-top: 1px solid var(--color-grey-light);
        }

        .chat-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--color-grey-light);
            border-radius: var(--border-radius);
            font-family: var(--font-primary);
            font-size: 1rem;
            resize: none;
            height: 100px;
            transition: var(--transition);
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--color-crimson);
        }

        .chat-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.5rem;
        }

        .chat-button {
            background: none;
            border: none;
            padding: 0.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .chat-button:hover {
            transform: scale(1.1);
        }

        .chat-button svg {
            width: 20px;
            height: 20px;
            color: var(--color-crimson);
        }

        /* Animations */
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .chat-module {
                width: 100%;
                right: 0;
                bottom: 0;
                border-radius: var(--border-radius) var(--border-radius) 0 0;
            }

            .download-resume {
                bottom: auto;
                top: calc(var(--nav-height) + 1rem);
                right: 1rem;
            }

            .nav-links {
                display: none;
            }

            .nav-links.active {
                display: flex;
                flex-direction: column;
                position: absolute;
                top: var(--nav-height);
                left: 0;
                width: 100%;
                background: var(--color-white);
                padding: 1rem;
                box-shadow: var(--shadow-md);
            }

            .contact-form {
                padding: 1.5rem;
            }
        }

        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            :root {
                --color-black: #ffffff;
                --color-white: #1e1e1e;
                --color-grey-light: #2d2d2d;
                --color-grey: #8a8a8a;
            }
        }

        /* Reduce Motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="container nav-container">
            <a href="#home" class="nav-logo">JJG</a>
            <div class="nav-links">
                <a href="#about" class="nav-link">About</a>
                <a href="#experience" class="nav-link">Experience</a>
                <a href="#publications" class="nav-link">Publications</a>
                <a href="#contact" class="nav-link">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Download Resume Button -->
    <a href="/assets/Jared_Grogan_Resume.pdf" target="_blank" class="download-resume">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4m4-5l5 5 5-5m-5 5V3"/>
        </svg>
        Download Resume
    </a>
          <!-- Hero Section -->
    <section id="home" class="section hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="animate-title">Jared James Grogan</h1>
                    <h2 class="animate-subtitle">AI Ecosystem Architect</h2>
                    <p class="animate-text">Pioneering cognitive computing solutions and building transformative AI ecosystems. Managing $300M+ R&D initiatives and driving innovation across multiple sectors.</p>
                    <div class="hero-cta">
                        <a href="#contact" class="btn btn-primary">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"/>
                                <path d="M12 11L3 6v12h18V6l-9 5z"/>
                            </svg>
                            Get in Touch
                        </a>
                        <a href="#about" class="btn btn-secondary">Learn More</a>
                    </div>
                </div>
                <div class="hero-visual">
                    <canvas id="neuralNetwork" class="neural-network-animation"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section about">
        <div class="container">
            <h2>About Me</h2>
            <p>I build cognitive computing solutions that enhance productivity and fuel innovation. My work focuses on efficient AI, information theory, and model architecture. With extensive experience managing $300M+ R&D budgets in the UAE and developing transformative AI ecosystems, I've built successful public-private partnerships across academia, industry, and government.</p>
            
            <div class="expertise-grid">
                <div class="expertise-card">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 6.042c2.75 0 5 2.25 5 5s-2.25 5-5 5-5-2.25-5-5 2.25-5 5-5zm0-4c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9z"/>
                        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                    </svg>
                    <h3>AI & Automation</h3>
                    <p>Developing cutting-edge AI solutions and automated systems for enterprise-scale deployment.</p>
                </div>
                
                <div class="expertise-card">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"/>
                        <path d="M12 12l-4-4m0 8l4-4m4-4l-4 4m4 4l-4-4"/>
                    </svg>
                    <h3>Full-Stack Development</h3>
                    <p>Building scalable applications using React, Node.js, and modern DevOps practices.</p>
                </div>

                <div class="expertise-card">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 3h6m-6 18h6M3 9v6m18-6v6"/>
                        <circle cx="12" cy="12" r="3"/>
                    </svg>
                    <h3>Machine Learning</h3>
                    <p>Implementing advanced ML systems including LLMs, Computer Vision, and Multimodal AI.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section contact">
        <div class="container">
            <h2>Get in Touch</h2>
            
            <!-- Contact Grid -->
            <div class="contact-grid">
                <div class="contact-card">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"/>
                        <path d="M12 11L3 6v12h18V6l-9 5z"/>
                    </svg>
                    <h3>Email</h3>
                    <p>jared.grogan@post.harvard.edu</p>
                </div>

                <div class="contact-card">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                        <circle cx="12" cy="10" r="3"/>
                    </svg>
                    <h3>Location</h3>
                    <p>Palo Alto, California</p>
                </div>
            </div>

            <!-- Contact Form -->
            <form id="contactForm" class="contact-form">
                <div class="form-group">
                    <label for="name" class="form-label">Name *</label>
                    <input type="text" id="name" name="name" class="form-input" required 
                           pattern="[A-Za-z\s]{2,}"
                           title="Please enter at least 2 characters, letters only">
                    <span class="error-message"></span>
                </div>

                <div class="form-group">
                    <label for="email" class="form-label">Email *</label>
                    <input type="email" id="email" name="email" class="form-input" required>
                    <span class="error-message"></span>
                </div>

                <div class="form-group">
                    <label for="message" class="form-label">Message</label>
                    <textarea id="message" name="message" class="form-textarea" rows="5"></textarea>
                </div>

                <!-- Honeypot field -->
                <div class="honeypot">
                    <input type="text" name="website" id="website" tabindex="-1" autocomplete="off">
                </div>

                <!-- reCAPTCHA -->
                <div class="g-recaptcha" data-sitekey="YOUR_RECAPTCHA_SITE_KEY"></div>

                <button type="submit" class="btn btn-primary">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                    </svg>
                    Send Message
                </button>
            </form>

            <!-- Schedule Consultation -->
            <div class="schedule-container">
                <a href="/schedule" class="schedule-consultation">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    Schedule a Consultation
                </a>
            </div>
        </div>
    </section>

    <!-- Chat Module -->
    <div class="chat-module" id="chatModule">
        <div class="chat-header">
            <div class="chat-title">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"/>
                </svg>
                <h3>Chat with Jared's AI Assistant</h3>
            </div>
            <button class="chat-minimize">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
        </div>

        <div class="chat-messages" id="chatMessages"></div>

        <div class="chat-input-container">
            <textarea class="chat-input" placeholder="Ask me anything about Jared's work..." rows="3"></textarea>
            <div class="chat-controls">
                <button class="chat-button mic-button">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3z"/>
                        <path d="M19 10v2a7 7 0 01-14 0v-2M12 19v4M8 23h8"/>
                    </svg>
                </button>
                <button class="chat-button send-button">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast" id="toast"></div>

   <script>
        // Core Initialization
        document.addEventListener('DOMContentLoaded', () => {
            initializeNavigation();
            initializeNeuralNetwork();
            initializeContactForm();
            initializeChatModule();
            initializeAnalytics();
            initializeVoiceFeatures();
        });

        // Optimized Navigation with Intersection Observer
        function initializeNavigation() {
            const nav = document.querySelector('.nav');
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section[id]');

            // Intersection Observer for nav highlighting
            const observerOptions = {
                rootMargin: '-60px 0px 0px 0px',
                threshold: 0.5
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href') === `#${id}`);
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => observer.observe(section));

            // Smooth scroll with performance optimization
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        targetSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Throttled scroll handler for nav background
            let lastScroll = 0;
            const scrollThreshold = 100;
            
            window.addEventListener('scroll', _.throttle(() => {
                const currentScroll = window.pageYOffset;
                nav.classList.toggle('scrolled', currentScroll > scrollThreshold);
                lastScroll = currentScroll;
            }, 100));
        }

        // Optimized Neural Network Animation
        function initializeNeuralNetwork() {
            const canvas = document.getElementById('neuralNetwork');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            const dpr = window.devicePixelRatio || 1;
            let width, height, neurons, animationFrameId;
            
            // Neuron class with optimized methods
            class Neuron {
                constructor(x, y) {
                    this.x = x;
                    this.y = y;
                    this.baseY = y;
                    this.speed = Math.random() * 0.5 + 0.2;
                    this.offset = Math.random() * Math.PI * 2;
                    this.connections = [];
                }

                update(time) {
                    this.y = this.baseY + Math.sin(time * 0.001 * this.speed + this.offset) * 30;
                }

                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, 4, 0, Math.PI * 2);
                    ctx.fillStyle = '#ffffff';
                    ctx.fill();
                }
            }

            function initializeNeurons() {
                neurons = Array.from({ length: 25 }, () => 
                    new Neuron(
                        Math.random() * width,
                        Math.random() * height
                    )
                );
            }

            function resizeCanvas() {
                const rect = canvas.parentElement.getBoundingClientRect();
                width = rect.width;
                height = rect.height;
                
                canvas.width = width * dpr;
                canvas.height = height * dpr;
                canvas.style.width = `${width}px`;
                canvas.style.height = `${height}px`;
                
                ctx.scale(dpr, dpr);
                initializeNeurons();
            }

            function animate(time) {
                ctx.clearRect(0, 0, width, height);
                
                // Draw connections
                ctx.beginPath();
                neurons.forEach((neuron, i) => {
                    neuron.update(time);
                    
                    neurons.slice(i + 1).forEach(other => {
                        const dx = neuron.x - other.x;
                        const dy = neuron.y - other.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < 100) {
                            ctx.moveTo(neuron.x, neuron.y);
                            ctx.lineTo(other.x, other.y);
                            ctx.strokeStyle = `rgba(255,255,255,${0.2 * (1 - distance / 100)})`;
                            ctx.stroke();
                        }
                    });
                });
                
                // Draw neurons
                neurons.forEach(neuron => neuron.draw());
                
                animationFrameId = requestAnimationFrame(animate);
            }

            // Initialize and handle resize
            resizeCanvas();
            animate(0);
            
            const resizeObserver = new ResizeObserver(_.debounce(() => {
                cancelAnimationFrame(animationFrameId);
                resizeCanvas();
                animate(0);
            }, 250));
            
            resizeObserver.observe(canvas.parentElement);
        }

        // Contact Form with Email Service Integration
        function initializeContactForm() {
            const form = document.getElementById('contactForm');
            const toast = document.getElementById('toast');
            
            if (!form) return;

            async function sendEmail(formData) {
                try {
                    const response = await fetch('/api/send-email', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            name: formData.get('name'),
                            email: formData.get('email'),
                            message: formData.get('message'),
                            recaptchaToken: formData.get('g-recaptcha-response')
                        })
                    });

                    if (!response.ok) throw new Error('Failed to send message');
                    
                    showToast('Message sent successfully!', 'success');
                    form.reset();
                    grecaptcha.reset();
                } catch (error) {
                    console.error('Send email error:', error);
                    showToast('Failed to send message. Please try again.', 'error');
                }
            }

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                // Validate form
                if (!form.checkValidity()) {
                    showToast('Please fill all required fields correctly.', 'error');
                    return;
                }

                // Check honeypot
                if (form.querySelector('#website').value) {
                    return;
                }

                // Get form data
                const formData = new FormData(form);
                
                // Send email
                await sendEmail(formData);
            });
        }

        // Enhanced Chat Module
        function initializeChatModule() {
            const chatModule = document.getElementById('chatModule');
            const chatMessages = document.getElementById('chatMessages');
            const chatInput = chatModule.querySelector('.chat-input');
            const sendButton = chatModule.querySelector('.send-button');
            const minimizeButton = chatModule.querySelector('.chat-minimize');
            
            // Chat context with enhanced responses
            const chatContext = {
                name: "Jared James Grogan",
                title: "AI Ecosystem Architect",
                portfolio: [
                    {
                        name: "Herakles AI Platform",
                        url: "/portfolio/herakles"
                    },
                    {
                        name: "Neural Network Optimizer",
                        url: "/portfolio/optimizer"
                    }
                ],
                profiles: {
                    github: "https://github.com/jaredgrogan",
                    linkedin: "https://linkedin.com/in/jaredgrogan"
                }
            };

            // Initialize with welcome message
            addMessage({
                type: 'assistant',
                content: "Hello! I'm Jared's AI assistant. How can I help you learn more about his work in cognitive computing and AI?",
                links: []
            });

            // Event Listeners
            minimizeButton.addEventListener('click', () => {
                chatModule.classList.toggle('collapsed');
                minimizeButton.querySelector('svg').style.transform = 
                    chatModule.classList.contains('collapsed') ? 'rotate(180deg)' : 'rotate(0deg)';
            });

            sendButton.addEventListener('click', handleUserInput);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleUserInput();
                }
            });

            function handleUserInput() {
                const message = chatInput.value.trim();
                if (!message) return;

                addMessage({
                    type: 'user',
                    content: message,
                    links: []
                });

                chatInput.value = '';
                showTypingIndicator();

                // Process response after slight delay
                setTimeout(() => {
                    removeTypingIndicator();
                    const response = generateResponse(message, chatContext);
                    addMessage(response);
                }, 1000 + Math.random() * 500);
            }

            function addMessage(message) {
                const messageElement = document.createElement('div');
                messageElement.className = `chat-message ${message.type}`;
                
                // Create message content
                const contentElement = document.createElement('div');
                contentElement.className = 'chat-message-content';
                contentElement.innerHTML = message.content;

                // Add links if any
                if (message.links && message.links.length > 0) {
                    const linksElement = document.createElement('div');
                    linksElement.className = 'chat-message-links';
                    message.links.forEach(link => {
                        const linkElement = document.createElement('a');
                        linkElement.href = link.url;
                        linkElement.className = 'chat-message-link';
                        linkElement.textContent = link.text;
                        linkElement.target = '_blank';
                        linksElement.appendChild(linkElement);
                    });
                    messageElement.appendChild(linksElement);
                }

                messageElement.appendChild(contentElement);
                chatMessages.appendChild(messageElement);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            function generateResponse(input, context) {
                const lowerInput = input.toLowerCase();
                
                // Enhanced response patterns
                if (lowerInput.includes('portfolio') || lowerInput.includes('projects')) {
                    return {
                        type: 'assistant',
                        content: `Here are some of ${context.name}'s notable projects:`,
                        links: context.portfolio.map(project => ({
                            url: project.url,
                            text: project.name
                        }))
                    };
                }

                if (lowerInput.includes('contact') || lowerInput.includes('reach')) {
                    return {
                        type: 'assistant',
                        content: `You can reach ${context.name} through his professional profiles:`,
                        links: [
                            { url: context.profiles.github, text: 'GitHub' },
                            { url: context.profiles.linkedin, text: 'LinkedIn' }
                        ]
                    };
                }

                if (lowerInput.includes('schedule') || lowerInput.includes('meet')) {
                    return {
                        type: 'assistant',
                        content: 'Would you like to schedule a consultation?',
                        links: [{ url: '/schedule', text: 'Schedule a Meeting' }]
                    };
                }

                // Default response
                return {
                    type: 'assistant',
                    content: `I can tell you about ${context.name}'s work, projects, or help you get in touch. What would you like to know?`,
                    links: []
                };
            }
        }

        // Analytics Implementation
        function initializeAnalytics() {
            const visitData = {
                timestamp: new Date().toISOString(),
                referrer: document.referrer,
                userAgent: navigator.userAgent,
                screenResolution: `${window.screen.width}x${window.screen.height}`,
                viewportSize: `${window.innerWidth}x${window.innerHeight}`
            };

            // Send analytics data
            fetch('/api/analytics', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(visitData)
            }).catch(console.error);
        }

        // Voice Feature Implementation
        function initializeVoiceFeatures() {
            if (!('webkitSpeechRecognition' in window)) return;

            const recognition = new webkitSpeechRecognition();
            const micButton = document.querySelector('.mic-button');
            const chatInput = document.querySelector('.chat-input');
            
            recognition.continuous = false;
            recognition.interimResults = false;

            micButton.addEventListener('click', () => {
                if (micButton.classList.contains('active')) {
                    recognition.stop();
                } else {
                    recognition.start();
                }
                micButton.classList.toggle('active');
            });

            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                chatInput.value = transcript;
                micButton.classList.remove('active');
            };

            recognition.onerror = () => {
                micButton.classList.remove('active');
            };
        }

        // Toast Notification Helper
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            if (!toast) return;

            toast.className = `toast ${type} show`;
            toast.innerHTML = `
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    ${type === 'success' 
                        ? '<path d="M20 6L9 17l-5-5"/>'
                        : '<path d="M18 6L6 18M6 6l12 12"/>'}
                </svg>
                <span>${message}</span>
            `;

            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
